{% extends 'Student/common_pa.html' %}
{% load static %}
{% for m in messages %}
<script>
    alert("{{m}}")
</script>
{% endfor %}
{% block content %}
	
	<section class="hero-wrap" style="background-image: url('../static/images/bg_2.jpg');height: 350px;">
		<div class="container">
			<div class="row no-gutters slider-text align-items-end justify-content-center">
				<div class="col-md-9 ftco-animate pb-5 text-center">
					<!-- <p class="breadcrumbs"><span class="mr-2"><a href="/parenthome">Home <i class="fa fa-chevron-right"></i></a></span> <span>View E-Books<i class="fa fa-chevron-right"></i></span></p>
					<h1 class="mb-0 bread">View E-Books</h1> -->
				</div>
			</div>
		</div>
	</section>
	
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">
	<br>
	<br>
	<br>
	<div class="row">
		<div class="col-lg-2"></div>
		<div class="col-lg-8" data-aos="fade-up" data-aos-delay="200">
	
			{% if msg %}
				<div class="alert alert-success">
					{{ msg }}
				</div>
			{% endif %}
	
			<!-- Search box -->
			<div class="mb-3">
				<input type="text" class="form-control" id="bookSearch" placeholder="Search by book name">
			</div>
	
		</div>
	</div>
	
	<div class="section">
		<div class="container-fluid">
			<div class="row">
	
				<!-- Book cards -->
				{% for i in data %}
					<div class="col-4 book-card" data-book-name="{{ i.Bookname }}">
						<div class="card mb-3" style="max-width: 540px;">
							<div class="row g-0">
								<div class="col-md-5">
									<img src="../static/media/{{i.Image}}" class="img-fluid rounded-start" alt="image">
								</div>
								<div class="col-md-8">
									<div class="card-body">
										<h5 class="card-title">{{ i.Bookname }}</h5>
										<p class="card-text">{{ i.Description }}</p>
										<p class="card-text"><small class="text-muted">{{i.subject1}}</small></p>
										<p class="card-text"><small class="text-muted">Link:<a href="{{i.link}}">{{i.link}}</a></small></p>
										<!-- <p class="card-text"><small class="text-muted">Rack no:{{i.b1}}</small></p> -->
										<!-- <h4><a class="" href="/book_delete?id={{i.bid}}"><i class="bi bi-x-circle"></i> delete</a></h4> -->
									</div>
								</div>
							</div>
						</div>
					</div>
				{% endfor %}
			</div>
		</div>
	</div>
	
	<script>
		// JavaScript for filtering books by name
		document.getElementById('bookSearch').addEventListener('input', function () {
			const searchValue = this.value.toLowerCase();
			const bookCards = document.querySelectorAll('.book-card');
	
			bookCards.forEach(function (card) {
				const bookName = card.getAttribute('data-book-name').toLowerCase();
				const isMatch = bookName.includes(searchValue);
	
				// Show or hide the card based on the search result
				card.style.display = isMatch ? 'block' : 'none';
			});
		});
	</script>
	{% endblock %}


	